<!DOCTYPE html>
<html lang="en">
  <head>
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300" rel="stylesheet" />
    <link href="assets/styles.css" rel="stylesheet" />
    <meta charset="utf-8" />
    <title>ReplayMirror</title>
    <base href="/" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="assets/favicon.png" />

    <meta property="og:site_name" content="ReplayMirror" />
    <meta property="og:title" content="Look into the past" />
    <meta
      property="og:description"
      content="A simple web application that displays delayed live video from your webcam."
    />
    <meta property="og:image" content="https://replaymirror.com/assets/favicon.png" />
    <meta property="og:url" content="https://replaymirror.com/" />
    <meta property="og:type" content="website" />
    <style>
      .bad-text {
        display: none;
      }
      .bad .bad-text {
        display: block;
      }
      .bad .good-text {
        display: none;
      }
    </style>
  </head>
  <body>
    <script>
      if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia || !getMimeType()) {
        window.document.body.classList.add('bad');
      } else window.document.body.classList.add('good');

      function getMimeType() {
        try {
          return ['video/webm;codecs=vp9', 'video/webm;codecs=vp8'].find(mimeType =>
            MediaRecorder.isTypeSupported(mimeType),
          );
        } catch (e) {
          return undefined;
        }
      }
    </script>
    <div id="page">
      <div style="flex: 2 0 auto"></div>
      <div id="info">
        <h1>ReplayMirror</h1>
        <p>This is a simple web application that displays video from your webcam with a delay.</p>
        <div class="good-text">
          <p>
            On the next screen make sure you give it permission to access your webcam.
          </p>
          <app-root>
            <p class="action"><a class="loading-button">Loading...</a></p>
          </app-root>
        </div>

        <div class="bad-text">
          Unfortunately, your browser is missing the capability to run this app. For now, it only
          works in recent versions of Google Chrome for computers or Android phones.
        </div>
      </div>
      <div style="flex: 3 0 auto"></div>
      <div id="footer">
        <p>
          Made by <a href="http://blog.wuwon.id.au/">Kevin Wu Won</a> &middot; Icon pack by
          <a href="https://icons8.com">Icons8</a> &middot; <a href="privacy.html">Privacy Policy</a>
        </p>
      </div>
    </div>

    <!-- Google Analytics -->
    <script>
      window.ga =
        window.ga ||
        function() {
          (ga.q = ga.q || []).push(arguments);
        };
      ga.l = +new Date();
      ga('create', 'UA-111257390-1', 'auto');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
    <!-- End Google Analytics -->
  </body>
</html>
